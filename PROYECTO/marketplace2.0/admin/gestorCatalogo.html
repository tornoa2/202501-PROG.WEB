<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestor de Catálogo</title>
  <link rel="stylesheet" href="../css/gestorCatalogo.css" />
  <script defer src="../js/juegosAdmin.js"></script>
  <script defer src="../js/autenticacion.js"></script>
</head>
<body>

  <header class="navbar">
    <h1 class="logo">Gestor de Catálogo</h1>
    <nav>
      <ul class="nav-links">
        <li><a href="../index.html">Tienda</a></li>
        <li><a href="../noticias.html">Noticias</a></li>
        <li id="usuarioNav"></li>
      </ul>
    </nav>
  </header>
  
  <!-- seccion para mostrar los filtros -->
  <section class="filtros-container">
    <label>Categoría:
      <select id="filtroCategoria" onchange="aplicarFiltros()">
        <option value="">Todas</option>
      </select>
    </label>

    <label>Fecha desde:
      <input type="date" id="filtroFechaDesde" onchange="aplicarFiltros()">
    </label>

    <label>Precio hasta:
      <input type="number" id="filtroPrecioMax" onchange="aplicarFiltros()">
    </label>
  </section>

  <!-- seccion para el boton de agregar juegos que llama al formulario para llenar los campos del nuevo juego -->
  <div class="acciones">
    <button onclick="mostrarFormulario()">Agregar juego</button>
  </div>

  <!-- formulario para agregar -->
  <section id="formulario" class="formulario-grid" style="display: none">
    <h3 id="tituloForm">Agregar Juego</h3>
    <input type="hidden" id="editandoIndice">

    <div class="fila-formulario">
      <div>
        <label>Nombre:</label> <!-- el titulo del juego -->
        <input type="text" id="nombre" required>
      </div>
      <div>
        <label>Fecha de lanzamiento:</label> <!-- fecha de lanzamiento -->
        <input type="date" id="fecha" required>
      </div>
      <div>
        <label>Precio:</label> <!-- precio -->
        <input type="number" id="precio" min="0" required>
      </div>
      <div>
        <label>Categorías (máx. 4):</label> <!-- categorias -->
        <select id="categoria" multiple size="8" onchange="limitarSeleccion(this)">
          <option value="Acción">Acción</option>
          <option value="Aventura">Aventura</option>
          <option value="Cartas y mesa">Cartas y mesa</option>
          <option value="Deportes y carreras">Deportes y carreras</option>
          <option value="Disparos">Disparos en primera persona</option>
          <option value="Estrategia">Estrategia</option>
          <option value="Hack and slash">Hack and slash</option>
          <option value="Indie">Indie</option>
          <option value="Lucha">Lucha</option>
          <option value="Plataforma">Plataforma y corredores</option>
          <option value="Rol">Rol</option>
          <option value="Roguelike">Roguelike</option>
          <option value="Simulación">Simulación</option>
        </select>
      </div>
      <div>
        <label>Plataformas:</label> <!-- plataformas -->
        <div class="checkboxes">
          <label><input type="checkbox" name="plataforma" value="windows"> Windows</label>
          <label><input type="checkbox" name="plataforma" value="macos"> macOS</label>
          <label><input type="checkbox" name="plataforma" value="xbox"> Xbox</label>
          <label><input type="checkbox" name="plataforma" value="playstation"> PlayStation</label>
          <label><input type="checkbox" name="plataforma" value="nintendo"> Nintendo</label>
        </div>
      </div>
      <div>
        <label>Descuento (%):</label> <!-- descuento a colocar -->
        <input type="number" id="descuento" min="0" max="100" value="0">
      </div>
    </div>

    <div class="acciones-form">
      <button onclick="guardarJuego()">Guardar</button> 
      <button onclick="cancelar()">Cancelar</button>
    </div>
  </section>
  
  <!-- tabla donde se muestra la info de los juegos -->
  <table id="tablaJuegos">
    <thead>
      <tr>
        <th>Título</th>
        <th>Categorías</th>
        <th>Precio Base</th>
        <th>Descuento</th>
        <th>Precio de Venta</th>
        <th>Fecha de Lanzamiento</th>
        <th>Opciones</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

</body>
</html>
